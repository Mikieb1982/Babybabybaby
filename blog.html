<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>The Stork Name Drop - Blog</title> <link rel="icon" href="assets/logo.png" type="image/png">

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Tailwind CSS Configuration (Same as before)
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Nunito Sans"', 'sans-serif'],
                        serif: ['Georgia', 'serif'],
                    },
                    colors: {
                        'stork-title': '#2C3E50',
                        'stork-text': '#34495E',
                        'stork-accent': '#1ABC9C',
                        'stork-accent-hover': '#16A085',
                        'soft-beige': '#F5F5DC',
                        'dark-text': '#374151',
                        'medium-gray': '#6B7280',
                        'button-active': '#60A5FA',
                        'button-active-hover': '#3B82F6',
                        'button-inactive-hover-bg': '#F9FAFB',
                        'button-inactive-hover-border': '#1F2937',
                        'error-red': '#EF4444',
                        'save-button': '#34D399',
                        'save-button-hover': '#059669',
                        'remove-button': '#F87171',
                        'remove-button-hover': '#DC2626',
                        'copy-button': '#9CA3AF',
                        'copy-button-hover': '#4B5563',
                        'accent-muted': '#64748b',
                        'accent-muted-light': '#cbd5e1',
                        'off-white': '#f8fafc',
                        'indigo-100': '#e0e7ff',
                        'indigo-700': '#4338ca',
                        'amber-100': '#fef3c7',
                        'amber-500': '#f59e0b'
                    },
                    animation: {
                        'fade-in': 'fade-in 0.5s ease-out',
                        'pulse-fast': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'fade-in-down': 'fade-in-down 0.5s ease-out',
                        // Add slide animations
                        'slide-in-left': 'slide-in-left 0.5s ease-out',
                        'slide-out-left': 'slide-out-left 0.5s ease-out',
                        'slide-in-right': 'slide-in-right 0.5s ease-out',
                        'slide-out-right': 'slide-out-right 0.5s ease-out',
                    },
                    keyframes: {
                        'fade-in': { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
                        'fade-in-down': { '0%': { opacity: '0', transform: 'translateY(-10px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } },
                        // Add slide keyframes
                        'slide-in-left': { '0%': { transform: 'translateX(-100%)', opacity: 0 }, '100%': { transform: 'translateX(0)', opacity: 1 } },
                        'slide-out-left': { '0%': { transform: 'translateX(0)', opacity: 1 }, '100%': { transform: 'translateX(-100%)', opacity: 0 } },
                        'slide-in-right': { '0%': { transform: 'translateX(100%)', opacity: 0 }, '100%': { transform: 'translateX(0)', opacity: 1 } },
                        'slide-out-right': { '0%': { transform: 'translateX(0)', opacity: 1 }, '100%': { transform: 'translateX(100%)', opacity: 0 } },
                    },
                }
            }
        }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,opsz,wght@0,6..12,400;0,6..12,600;0,6..12,700;1,6..12,400&display=swap" rel="stylesheet">

    <style>
        /* Basic styles */
        .btn { @apply px-4 py-2 rounded-md transition duration-200 ease-in-out shadow; }
        .btn-primary { @apply bg-stork-accent text-white hover:bg-stork-accent-hover font-semibold; }
        .btn-secondary { @apply bg-gray-200 text-stork-text hover:bg-gray-300; }
        .btn-feedback { @apply transform active:scale-95; }

        /* Layout styles */
        html, body {
            min-height: 100%;
            display: flex;
            flex-direction: column;
            overflow-x: hidden; /* Prevent horizontal scroll */
        }
        body {
            flex-grow: 1;
            padding-top: 64px; /* Adjust based on fixed header height */
            font-family: 'Nunito Sans', sans-serif;
            color: #34495E; /* stork-text */
        }
        main {
            flex-grow: 1;
            position: relative; /* Needed for positioning blog posts */
            overflow: hidden; /* Hide overflowing posts during transition */
        }

        /* Blog Container */
        #blog-post-viewer {
            position: relative;
            width: 100%;
            /* min-height needed? Or let content dictate height? */
        }

        /* Individual Blog Post Styling */
        .blog-post-content {
            position: absolute; /* Position posts absolutely for transitions */
            top: 0;
            left: 0;
            width: 100%;
            opacity: 1;
            transition: transform 0.5s ease-out, opacity 0.5s ease-out;
            background-color: #f8fafc; /* off-white, adjust as needed */
            border-radius: 0.5rem;
            padding: 1.5rem 2.5rem; /* p-6 md:p-10 */
            margin: 2rem 0; /* Add some vertical margin */
            border: 1px solid #e5e7eb; /* border-gray-200 */
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); /* shadow-lg */
        }

        /* States for Transitions */
        .blog-post-content.next-enter { transform: translateX(100%); opacity: 0; }
        .blog-post-content.prev-enter { transform: translateX(-100%); opacity: 0; }
        .blog-post-content.next-exit { transform: translateX(-100%); opacity: 0; animation: slide-out-left 0.5s ease-out forwards; }
        .blog-post-content.prev-exit { transform: translateX(100%); opacity: 0; animation: slide-out-right 0.5s ease-out forwards; }
        .blog-post-content.active { transform: translateX(0); opacity: 1; z-index: 10; /* Ensure active is on top */}

        /* Blog content specific styles (apply within the loaded article) */
        .blog-content h1 { @apply text-3xl md:text-4xl font-bold text-stork-title mb-6 text-center; }
        .blog-content h2 { @apply text-2xl md:text-3xl font-semibold text-stork-title mt-8 mb-4 border-b pb-2; }
        .blog-content h3 { @apply text-xl md:text-2xl font-semibold text-stork-title mt-6 mb-3; }
        .blog-content p { @apply mb-4 leading-relaxed; }
        .blog-content strong { @apply font-semibold text-stork-title; }
        .blog-content em { @apply italic; }
        .blog-content ul { @apply list-disc list-inside mb-4 pl-4; }
        .blog-content ol { @apply list-decimal list-inside mb-4 pl-4; }
        .blog-content li { @apply mb-2; }
        .blog-content table { @apply min-w-full divide-y divide-gray-200 border border-gray-300 mb-6 shadow-sm; }
        .blog-content th { @apply px-4 py-2 bg-gray-100 text-left text-xs font-medium text-gray-500 uppercase tracking-wider; }
        .blog-content td { @apply px-4 py-2 whitespace-normal text-sm text-gray-700 border-b border-gray-200; }
        .blog-content tbody tr:nth-child(even) { @apply bg-gray-50; }
        .blog-content a { @apply text-stork-accent hover:text-stork-accent-hover hover:underline; }
        .blog-content .works-cited { @apply text-xs text-gray-500 mt-10 border-t pt-4; }
        .blog-content .works-cited li { @apply mb-1 break-words; }
        .blog-content img.blog-header-image { /* Style for header images within posts */
             @apply w-full h-auto mb-6 md:mb-8 rounded-md shadow-md;
        }

        /* Loader */
        .loader {
            border: 4px solid #f3f3f3; border-top: 4px solid #1ABC9C;
            border-radius: 50%; width: 40px; height: 40px;
            animation: spin 1s linear infinite;
            margin: 40px auto; /* More margin */
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* Navigation Arrows (Optional) */
        .blog-nav {
            position: absolute; top: 50%; transform: translateY(-50%);
            z-index: 20; cursor: pointer;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 50%; padding: 0.5rem;
            transition: background-color 0.2s;
        }
        .blog-nav:hover { background-color: rgba(255, 255, 255, 0.9); }
        #prev-post { left: 10px; }
        #next-post { right: 10px; }
        .blog-nav svg { width: 24px; height: 24px; stroke: #34495E; }

    </style>
</head>
<body class="font-sans text-stork-text overflow-x-hidden bg-[url('assets/back.png')] bg-cover bg-center bg-no-repeat bg-fixed pt-16">

    <header class="fixed top-0 left-0 right-0 z-50 py-3 px-4 md:px-6 bg-white/80 backdrop-blur-md shadow-md">
        <div class="container mx-auto flex justify-between items-center">
            <a href="index.html" title="The Stork Name Drop Home" class="z-20">
                <img src="assets/logo.png" alt="The Stork Name Drop Logo"
                     class="h-12 w-12 object-contain"
                     onerror="this.onerror=null; this.src='https://placehold.co/48x48/D1E8E2/34495E?text=Logo';">
            </a>
            <nav class="flex space-x-4 sm:space-x-6 items-center">
                 <a href="index.html" class="text-sm sm:text-base text-stork-text hover:text-stork-accent transition duration-200 font-medium">Home</a>
                 <a href="index.html#generator-controls" id="top-nav-generator-link" class="text-sm sm:text-base text-stork-text hover:text-stork-accent transition duration-200 font-medium">Generator</a>
                 <a href="blog.html" class="text-sm sm:text-base text-stork-accent font-semibold transition duration-200">Blog</a> <a href="datasources.html" class="text-sm sm:text-base text-stork-text hover:text-stork-accent transition duration-200 font-medium">Data Sources</a>
                 <a href="aboutus.html" class="text-sm sm:text-base text-stork-text hover:text-stork-accent transition duration-200 font-medium">About Us</a>
            </nav>
        </div>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 relative">

        <div id="blog-post-viewer" class="relative min-h-[60vh]">
            <div id="blog-loader" class="loader" style="display: none;"></div>
            <p id="blog-message" class="text-center text-medium-gray text-lg italic mt-16"></p>
            </div>

        <button id="prev-post" class="blog-nav" aria-label="Previous Post">
             <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
               <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5" />
             </svg>
         </button>
         <button id="next-post" class="blog-nav" aria-label="Next Post">
             <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
               <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
             </svg>
         </button>

    </main>

    <footer class="bg-gray-100/80 backdrop-blur-sm text-center p-4 mt-auto text-sm text-gray-600 border-t">
         © 2025 The Stork Name Drop. All rights reserved. | <a href="privacypolicy.html" class="hover:underline">Privacy Policy</a> | <a href="terms.html" class="hover:underline">Terms of Service</a>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Configuration ---
            const blogPosts = [
                { id: 'middle', title: 'Choosing Middle Names', filePath: 'blog/middle_content.html' },
                { id: 'uniqueeng', title: 'Unique English Names', filePath: 'blog/uniqueeng_content.html' },
                { id: 'german2025', title: 'German Names 2025', filePath: 'blog/german2025_content.html' },
                { id: 'song', title: 'Names Inspired by Songs', filePath: 'blog/song_content.html' },
                { id: 'beatles', title: 'Beatles Baby Name Gold', filePath: 'blog/beatles_content.html' }
            ];
            const swipeThreshold = 50; // Minimum pixels to trigger swipe
            const transitionDuration = 500; // ms, should match CSS transition duration

            // --- DOM Elements ---
            const viewer = document.getElementById('blog-post-viewer');
            const loader = document.getElementById('blog-loader');
            const messageEl = document.getElementById('blog-message');
            const prevButton = document.getElementById('prev-post');
            const nextButton = document.getElementById('next-post');

            // --- State ---
            let currentPostIndex = 0;
            let touchStartX = 0;
            let touchEndX = 0;
            let isTransitioning = false; // Prevent multiple transitions at once

            // --- Functions ---

            /**
             * Loads and displays a blog post by its index in the blogPosts array.
             * @param {number} index - The index of the post to load.
             * @param {string} direction - 'next', 'prev', or 'none' for transition direction.
             */
            async function loadBlogPost(index, direction = 'none') {
                if (isTransitioning) return; // Don't load if already transitioning
                if (index < 0 || index >= blogPosts.length) {
                    console.warn("Invalid post index:", index);
                    return; // Index out of bounds
                }

                isTransitioning = true;
                loader.style.display = 'block';
                messageEl.textContent = ''; // Clear any messages
                const postData = blogPosts[index];

                // --- Transition Out Old Post ---
                const currentPostElement = viewer.querySelector('.blog-post-content.active');
                if (currentPostElement) {
                    currentPostElement.classList.remove('active');
                    if (direction === 'next') {
                        currentPostElement.classList.add('next-exit');
                    } else if (direction === 'prev') {
                        currentPostElement.classList.add('prev-exit');
                    }
                    // Remove the old element after transition
                    setTimeout(() => {
                        currentPostElement.remove();
                    }, transitionDuration);
                } else {
                     // If no current post, transition finishes instantly
                     setTimeout(() => {}, 0);
                }


                // --- Fetch and Prepare New Post ---
                try {
                    const response = await fetch(postData.filePath);
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status} for ${postData.filePath}`);
                    }
                    const contentHTML = await response.text();

                    const newPostElement = document.createElement('div');
                    newPostElement.classList.add('blog-post-content');
                    newPostElement.innerHTML = contentHTML; // Inject fetched HTML

                    // Set initial state for transition
                    if (direction === 'next') {
                        newPostElement.classList.add('next-enter');
                    } else if (direction === 'prev') {
                        newPostElement.classList.add('prev-enter');
                    } else {
                        newPostElement.classList.add('active'); // No transition if direction is 'none'
                    }

                    viewer.appendChild(newPostElement);

                    // --- Transition In New Post ---
                    // Force reflow to ensure transition applies correctly
                    void newPostElement.offsetWidth;

                    if (direction !== 'none') {
                         setTimeout(() => { // Timeout ensures initial state is set before adding 'active'
                            newPostElement.classList.remove('next-enter', 'prev-enter');
                            newPostElement.classList.add('active');
                         }, 50); // Small delay
                    }

                    // Update state and UI
                    currentPostIndex = index;
                    document.title = `The Stork Name Drop - ${postData.title}`;
                    // Update URL hash without triggering hashchange listener immediately
                    history.replaceState(null, '', `#post=${postData.id}`);
                    updateNavButtons();

                } catch (error) {
                    console.error("Error loading blog post:", error);
                    messageEl.textContent = `Sorry, couldn't load the blog post. Please try again. (${error.message})`;
                    messageEl.classList.add('text-error-red');
                } finally {
                    loader.style.display = 'none';
                     // Allow new transitions after a delay slightly longer than the animation
                    setTimeout(() => {
                        isTransitioning = false;
                    }, transitionDuration + 100);
                }
            }

            /** Updates the visibility/disabled state of nav buttons */
            function updateNavButtons() {
                prevButton.style.display = currentPostIndex > 0 ? 'block' : 'none';
                nextButton.style.display = currentPostIndex < blogPosts.length - 1 ? 'block' : 'none';
            }

            /** Handles navigation to the next post */
            function navigateNext() {
                if (currentPostIndex < blogPosts.length - 1) {
                    loadBlogPost(currentPostIndex + 1, 'next');
                }
            }

            /** Handles navigation to the previous post */
            function navigatePrev() {
                if (currentPostIndex > 0) {
                    loadBlogPost(currentPostIndex - 1, 'prev');
                }
            }

            /** Handles touch start event */
            function handleTouchStart(event) {
                touchStartX = event.changedTouches[0].screenX;
            }

            /** Handles touch end event to detect swipe */
            function handleTouchEnd(event) {
                if (isTransitioning) return; // Ignore swipes during transition
                touchEndX = event.changedTouches[0].screenX;
                handleSwipeGesture();
            }

            /** Determines swipe direction and navigates */
            function handleSwipeGesture() {
                const deltaX = touchEndX - touchStartX;
                if (Math.abs(deltaX) > swipeThreshold) {
                    if (deltaX < 0) { // Swiped left
                        navigateNext();
                    } else { // Swiped right
                        navigatePrev();
                    }
                }
                // Reset touch points
                touchStartX = 0;
                touchEndX = 0;
            }

             /** Handles hash changes in the URL */
            function handleHashChange() {
                const postId = location.hash.substring(1).split('=')[1]; // Get ID from #post=ID
                const postIndex = blogPosts.findIndex(p => p.id === postId);

                if (postIndex !== -1 && postIndex !== currentPostIndex) {
                    // Determine direction based on index change for smooth transition
                    const direction = postIndex > currentPostIndex ? 'next' : 'prev';
                    loadBlogPost(postIndex, direction);
                } else if (!postId && currentPostIndex !== 0) {
                     // If hash is removed or invalid, go to the first post
                     loadBlogPost(0, 'prev'); // Assume going back to start
                }
            }


            // --- Initialization ---

            // Determine initial post index from hash or default to 0
            const initialHash = location.hash.substring(1).split('=')[1];
            const initialIndex = blogPosts.findIndex(p => p.id === initialHash);
            currentPostIndex = initialIndex !== -1 ? initialIndex : 0;

            loadBlogPost(currentPostIndex, 'none'); // Load initial post without transition

            // --- Event Listeners ---
            viewer.addEventListener('touchstart', handleTouchStart, { passive: true });
            viewer.addEventListener('touchend', handleTouchEnd, { passive: true });
            prevButton.addEventListener('click', navigatePrev);
            nextButton.addEventListener('click', navigateNext);
            window.addEventListener('hashchange', handleHashChange);

        });
    </script>

</body>
</html>


2. Create Blog Content Snippets (Example: blog/beatles_content.html)
You need to do this for all 5 of your blog posts. Go into each full HTML file (like the beatles.html I created previously) and copy only the content within the <article> tag (or your main content container). Save this snippet into a new file within the blog/ directory.
Example - blog/beatles_content.html:
<img src="../assets/beatles.png" alt="Beatles Blog Header"
     class="blog-header-image" onerror="this.onerror=null; this.src='https://placehold.co/1000x300/cccccc/34495E?text=Beatles+Blog+Header'; this.style.border='1px dashed #ccc';">

<h1 class="text-3xl md:text-4xl font-bold text-stork-title mb-6 text-center">
    Hey Jude, Don't Make it Bad... Name Your Baby Something Fab! A Beatles Name Deep Dive
</h1>

<p>If there’s one band that soundtracked the world, it’s The Beatles...</p>
<div class="works-cited">
    <h3 class="text-lg font-semibold mb-3">Works Cited</h3>
    <ol>
        <li>Cultural impact of the Beatles - Wikipedia...</li>
        </ol>
</div>

Repeat this process to create:
 * blog/middle_content.html
 * blog/uniqueeng_content.html
 * blog/german2025_content.html
 * blog/song_content.html
Important Notes:
 * File Paths: Double-check all image paths (src="...") and any internal links (href="...") within the content snippets. They need to be relative to the main blog.html file (which is one level above the blog/ directory). So, image paths will likely need to start with ../assets/.
 * Styling: The necessary CSS for formatting the blog content (.blog-content h1, .blog-content p, etc.) is included in the main blog.html container file.
 * Testing: This is a complex change. Test thoroughly on different devices and browsers, especially the swipe functionality and transitions.
 * Performance: Fetching HTML content like this works but might not be the most performant method for a very large number of blog posts. For now, with 5 posts, it should be acceptable.
This setup provides the foundation for your swipeable blog section.
