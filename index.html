<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>The Stork Name Drop - Baby Name Generator & Ideas</title>

    <script type="module">
        // Initialize Firebase, remove if unnecessary
        // Note: Ensure your API key and config are secure and correct if using Firebase
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-analytics.js";
        const firebaseConfig = {
            // IMPORTANT: Replace with your actual Firebase config keys or manage securely
            apiKey: "YOUR_API_KEY", // Replace placeholder
            authDomain: "YOUR_AUTH_DOMAIN", // Replace placeholder
            projectId: "YOUR_PROJECT_ID", // Replace placeholder
            storageBucket: "YOUR_STORAGE_BUCKET", // Replace placeholder
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID", // Replace placeholder
            appId: "YOUR_APP_ID", // Replace placeholder
            measurementId: "YOUR_MEASUREMENT_ID" // Optional: Replace placeholder
        };
        try {
            const app = initializeApp(firebaseConfig);
            // Only initialize Analytics if measurementId is present
            if (firebaseConfig.measurementId) {
                const analytics = getAnalytics(app);
                console.log("Firebase Analytics initialized.");
            } else {
                console.log("Firebase initialized (Analytics skipped - no measurementId).");
            }
        } catch (error) {
            console.error("Error initializing Firebase:", error);
            // Display a user-friendly message or handle the error appropriately
            // alert("Could not connect to necessary services. Some features might be limited.");
        }
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Tailwind Configuration
        tailwind.config = {
            plugins: [
                // require('@tailwindcss/forms'), // Removed as require() doesn't work client-side without build tools
                // Add other plugins as needed via CDN or other methods if necessary
            ],
            theme: {
                extend: {
                    // Animation definitions
                    animation: {
                        'fade-in': 'fade-in 0.5s ease-out',
                        'pulse-fast': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'fade-in-down': 'fade-in-down 0.5s ease-out',
                        'fade-out-up': 'fade-out-up 0.5s ease-out',
                        'slide-in-from-left': 'slide-in-from-left 0.5s ease-out',
                        'slide-out-to-right': 'slide-out-to-right 0.5s ease-out',
                    },
                    // Keyframe definitions
                    keyframes: {
                        'fade-in': { '0%': { opacity: '0' }, '100%': { opacity: '1' }, },
                        'fade-in-down': { '0%': { opacity: '0', transform: 'translateY(-10px)' }, '100%': { opacity: '1', transform: 'translateY(0)' }, },
                        'fade-out-up': { 'from': { opacity: '1', transform: 'translateY(0px)' }, 'to': { opacity: '0', transform: 'translateY(-10px)' }, },
                        'slide-in-from-left': { '0%': { transform: 'translateX(-100%)' }, '100%': { transform: 'translateX(0)' }, },
                        'slide-out-to-right': { 'from': { transform: 'translateX(0)' }, 'to': { transform: 'translateX(100%)' }, },
                    },
                    // Color palette extensions
                    colors: {
                        'soft-beige': '#F5F5DC', 'dark-text': '#374151', 'medium-gray': '#6B7280',
                        'button-active': '#60A5FA', 'button-active-hover': '#3B82F6',
                        'button-inactive-hover-bg': '#F9FAFB', 'button-inactive-hover-border': '#1F2937',
                        'error-red': '#EF4444', 'save-button': '#34D399', 'save-button-hover': '#059669',
                        'remove-button': '#F87171', 'remove-button-hover': '#DC2626',
                        'copy-button': '#9CA3AF', 'copy-button-hover': '#4B5563',
                        'accent-muted': '#64748b', 'accent-muted-light': '#cbd5e1', 'off-white': '#f8fafc',
                        'indigo-100': '#e0e7ff', 'indigo-700': '#4338ca', /* Tag colors */
                        'amber-100': '#fef3c7', 'amber-500': '#f59e0b' /* Featured colors */
                    }
                }
            }
        }
    </script>
    <style>
        /* Basic button styling */
        .btn {
            @apply inline-block px-6 py-3 rounded-md font-semibold text-white transition duration-200 ease-in-out shadow-sm;
        }
        .btn-primary {
            @apply bg-blue-500 hover:bg-blue-600; /* Example primary button */
        }
        /* Placeholder for ad slots */
        .ad-placeholder {
             @apply text-center text-gray-500 italic my-4 p-4 border border-dashed border-gray-300 rounded-md;
             min-height: 90px; /* Example height */
             display: flex;
             align-items: center;
             justify-content: center;
             background-color: #f9fafb; /* Light background */
        }
        /* Basic styling for form elements if @tailwindcss/forms is not used */
        select, input[type="radio"], input[type="range"] {
            @apply border border-gray-300 rounded-md p-2 focus:ring-blue-500 focus:border-blue-500;
        }
        input[type="radio"] {
            @apply h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300;
        }
         /* Style for generated name card */
        .name-card {
            @apply bg-white p-4 rounded-lg shadow border border-gray-200 mb-4 animate-fade-in;
        }
        .name-card h3 {
            @apply text-2xl font-bold text-indigo-700 mb-2;
        }
        .name-card p {
            @apply text-medium-gray mb-1;
        }
        .name-card .tags span {
            @apply inline-block bg-indigo-100 text-indigo-700 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded;
        }
         /* Loading indicator style */
        .loader {
            border: 4px solid #f3f3f3; /* Light grey */
            border-top: 4px solid #3498db; /* Blue */
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto; /* Center the loader */
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Feedback effect for buttons */
        .btn-feedback:active {
            transform: scale(0.95);
            opacity: 0.8;
        }

        /* Ensure body takes full height for potential footer placement */
        html, body {
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        body > main {
            flex-grow: 1; /* Allow main content to grow */
        }
        /* Simple footer style */
        footer {
            @apply text-center text-medium-gray py-6 mt-auto bg-off-white border-t border-gray-200;
        }
    </style>
</head>

<body class="font-serif bg-[#F5F5DC] bg-[url('https://www.transparenttextures.com/patterns/paper.png')] text-[#374151] overflow-x-hidden">
    <header class="text-center mb-10 relative py-4">
        <a href="index.html" title="The Stork Name Drop Home" class="absolute top-4 left-4 z-20">
            <img src="assets/logo.png" alt="The Stork Name Drop Logo"
                class="h-16 w-16 md:h-24 md:w-24 object-contain"
                onerror="this.onerror=null; this.src='https://placehold.co/96x96/F5F5DC/374151?text=Logo';">
        </a>

        <a href="main.html" class="text-lg underline text-dark-text hover:text-blue-600 transition absolute top-8 right-20 z-20 hidden md:inline-block">Extra Content</a>

        <button id="hamburger-btn" title="Open Menu"
            class="fixed top-4 right-4 p-2 rounded-md hover:bg-accent-muted-light transition btn-feedback bg-off-white/75 backdrop-blur-sm shadow z-30">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-dark-text" fill="none" viewBox="0 0 24 24"
                stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        </button>
    </header>

    <div id="mobile-menu-content"
        class="hidden fixed inset-0 bg-[#f5f5dc] bg-opacity-95 backdrop-blur-sm p-6 md:p-10 overflow-y-auto z-50 transition-transform duration-300 ease-in-out transform -translate-x-full">
        <button id="close-menu-btn" title="Close Menu"
            class="absolute top-4 right-4 p-2 rounded-md hover:bg-accent-muted-light transition btn-feedback bg-transparent z-60">
             <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-dark-text" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                 <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
             </svg>
         </button>
        <nav class="relative z-10 space-y-4 pt-16 transition-all duration-500 ease-in-out">
             <h3 class="text-2xl font-semibold text-[#374151] mb-6 text-center">Menu</h3>
            <a href="index.html" class="block text-lg text-[#374151] hover:underline text-center">Home</a>
             <a href="#generator-controls" class="menu-link block text-lg text-dark-text hover:underline text-center">Name Generator</a>
            <a href="#favorites-panel" class="menu-link block text-lg text-dark-text hover:underline text-center">Favorites</a>
            <a href="blog.html" class="block text-lg text-dark-text hover:underline text-center">Blog</a>
            <a href="aboutus.html" class="block text-lg text-dark-text hover:underline text-center">About Us</a>
              <a href="affiliate.html" class="block text-lg text-dark-text hover:underline text-center">Recommendations</a>
       </nav>
    </div>

    <section id="showcase" class="container mx-auto px-4 py-12 text-center">
        <div class="p-8 md:p-12 rounded-lg shadow-lg my-12 max-w-3xl mx-auto bg-[#f8fafc] border-2 border-[#374151]">
            <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold text-[#374151] mb-4">
                The Stork Name Drop
            </h1>
            <p class="text-lg sm:text-xl md:text-2xl text-[#6B7280] max-w-2xl mx-auto px-4 transition-all duration-500 ease-in-out">
                Discover the ideal name for your child or pet with our easy-to-use name generator.
            </p>
        </div>
        <div id="stork-blog-container" class="storks-container flex justify-center gap-4 md:gap-6 my-6">
            <a href="blog.html#article1" class="text-center hover:opacity-80 transition">
                <img src="https://placehold.co/80x80/a0aec0/ffffff?text=Stork1" alt="Blog Post 1 Stork" class="mx-auto h-16 w-16 md:h-20 md:w-20 rounded-full shadow">
                <span class="block text-sm mt-2 text-dark-text">Latest Trends</span>
            </a>
             <a href="blog.html#article2" class="text-center hover:opacity-80 transition">
                <img src="https://placehold.co/80x80/a0aec0/ffffff?text=Stork2" alt="Blog Post 2 Stork" class="mx-auto h-16 w-16 md:h-20 md:w-20 rounded-full shadow">
                <span class="block text-sm mt-2 text-dark-text">Unique Names</span>
            </a>
        </div>
    </section>

    <div id="ad-slot-top" class="ad-placeholder container mx-auto px-4">Potential Ad Space (e.g., 728x90 or responsive)</div>

    <main class="max-w-3xl mx-auto bg-[#f8fafc] p-6 md:p-12 rounded-lg border-2 border-[#374151] shadow-lg my-12 animate-fade-in-down">

        <fieldset id="generator-controls" class="space-y-8 md:space-y-10 mb-12">
            <legend class="sr-only">Name Generation Controls</legend>

            <section id="gender-selection">
                <label class="block text-xl md:text-2xl text-dark-text font-semibold mb-3 text-[#374151]">Gender:</label>
                <div class="flex flex-wrap gap-x-4 gap-y-2">
                    <div class="flex items-center"> <input type="radio" id="gender-any" name="gender" value="any" checked class="mr-2"> <label for="gender-any" class="text-lg md:text-xl cursor-pointer">Any</label> </div>
                    <div class="flex items-center"> <input type="radio" id="gender-boy" name="gender" value="boy" class="mr-2"> <label for="gender-boy" class="text-lg md:text-xl cursor-pointer">Boy</label> </div>
                    <div class="flex items-center"> <input type="radio" id="gender-girl" name="gender" value="girl" class="mr-2"> <label for="gender-girl" class="text-lg md:text-xl cursor-pointer">Girl</label> </div>
                    <div class="flex items-center"> <input type="radio" id="gender-neutral" name="gender" value="neutral" class="mr-2"> <label for="gender-neutral" class="text-lg md:text-xl cursor-pointer">Neutral</label> </div>
                </div>
            </section>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8">
                <section id="language-selection">
                    <label for="language-select" class="block text-xl md:text-2xl text-dark-text font-semibold mb-2 text-[#374151]">Language/Origin:</label>
                    <select id="language-select" name="language" class="w-full text-base md:text-lg p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500">
                        <option value="">Any Language</option>
                        <option value="english">English</option>
                        <option value="german">German</option>
                        <option value="japanese">Japanese</option>
                        <option value="spanish">Spanish</option>
                        <option value="french">French</option>
                        </select>
                </section>
                <section id="letter-filter">
                    <label for="first-letter-input" class="block text-xl md:text-2xl text-dark-text font-semibold mb-2 text-[#374151]">Starts with:</label>
                    <input type="text" id="first-letter-input" name="first-letter" maxlength="1" placeholder="Any Letter" class="w-full text-base md:text-lg p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 uppercase" pattern="[A-Za-z]">
                     <p class="text-sm text-medium-gray mt-1">Enter a single letter (A-Z).</p>
                </section>
            </div>

            <section id="length-filter">
                <label class="block text-xl md:text-2xl text-dark-text font-semibold mb-3">Name Length:</label>
                <div class="flex flex-wrap gap-x-4 gap-y-2">
                    <div class="flex items-center"> <input type="radio" id="length-any" name="length" value="any" checked class="mr-2"> <label for="length-any" class="text-lg md:text-xl cursor-pointer">Any</label> </div>
                    <div class="flex items-center"> <input type="radio" id="length-short" name="length" value="short" class="mr-2"> <label for="length-short" class="text-lg md:text-xl cursor-pointer">Short (3-5)</label> </div>
                    <div class="flex items-center"> <input type="radio" id="length-medium" name="length" value="medium" class="mr-2"> <label for="length-medium" class="text-lg md:text-xl cursor-pointer">Medium (6-8)</label> </div>
                    <div class="flex items-center"> <input type="radio" id="length-long" name="length" value="long" class="mr-2"> <label for="length-long" class="text-lg md:text-xl cursor-pointer">Long (9+)</label> </div>
                </div>
            </section>

            <section id="style-slider">
                <div class="flex justify-between items-center mb-2">
                    <h2 class="text-xl md:text-2xl text-dark-text font-semibold text-[#374151]">Name Style:</h2>
                    <span id="slider-feedback" class="text-[#6B7280] text-base md:text-lg font-medium">Balanced</span>
                </div>
                <div class="flex items-center justify-between text-[#6B7280] mb-3 text-sm md:text-base">
                    <span>Traditional</span>
                    <span>Unique</span>
                </div>
                <input id="style-range" type="range" min="0" max="100" value="50" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 accent-blue-500">
            </section>

            <div class="text-center pt-6">
                <button id="generate-btn" class="btn btn-primary w-full md:w-auto text-xl md:text-2xl shadow-md btn-feedback">
                    Generate Name
                </button>
            </div>
        </fieldset>

        <section id="results-section" class="mt-12 animate-fade-in">
            <h2 class="text-2xl md:text-3xl text-[#374151] font-semibold mb-6 text-center">Generated Name</h2>
            <div id="results-container">
                <div id="loading-indicator" class="loader" style="display: none;"></div>
                <div id="result-display" class="content-area text-[#374151] font-base text-lg px-4 py-4 rounded-lg border-[#e2e8f0] border-2 shadow-inner mt-4 min-h-[100px] flex items-center justify-center bg-white">
                    <p id="results-placeholder" class="text-center text-[#6B7280] text-lg italic">Click "Generate Name" to see a result.</p>
                    </div>
                <p id="results-message" class="text-center text-medium-gray mt-4 text-lg" style="display:none;"></p>
            </div>
        </section>

        </main>

    <footer class="text-center text-medium-gray py-6 mt-auto bg-off-white border-t border-gray-200">
        <p>&copy; <span id="current-year"></span> The Stork Name Drop. All rights reserved.</p>
        <p class="text-sm mt-1">
            <a href="privacy.html" class="hover:underline">Privacy Policy</a> |
            <a href="terms.html" class="hover:underline">Terms of Service</a>
        </p>
    </footer>

    <script>
        // --- DOM Element References ---
        const generateBtn = document.getElementById('generate-btn');
        const resultDisplay = document.getElementById('result-display');
        const resultsPlaceholder = document.getElementById('results-placeholder');
        const resultsMessage = document.getElementById('results-message');
        const loadingIndicator = document.getElementById('loading-indicator');
        const languageSelect = document.getElementById('language-select');
        const firstLetterInput = document.getElementById('first-letter-input');
        const styleRange = document.getElementById('style-range');
        const sliderFeedback = document.getElementById('slider-feedback');
        const hamburgerBtn = document.getElementById('hamburger-btn');
        const mobileMenu = document.getElementById('mobile-menu-content');
        const closeMenuBtn = document.getElementById('close-menu-btn');
        const menuLinks = document.querySelectorAll('.menu-link'); // Links inside the menu
        const currentYearSpan = document.getElementById('current-year');

        // --- Initial Sample Data ---
        // (Replace or fetch from backend/Firebase later)
        const nameDatabase = [
            // English Names
            { id: 'en1', name: "William", language: "english", gender: "boy", meaning: "Resolute protector.", originNotes: "Germanic roots, English royalty", pronunciation: "WIL-ee-uhm", popularity: "Classic", lengthCategory: "medium", styleScore: 10 },
            { id: 'en2', name: "Olivia", language: "english", gender: "girl", meaning: "Olive tree.", originNotes: "Latin origin, via Shakespeare", pronunciation: "oh-LIV-ee-uh", popularity: "Top 100", lengthCategory: "medium", styleScore: 20 },
            { id: 'en3', name: "Noah", language: "english", gender: "boy", meaning: "Rest, comfort.", originNotes: "Hebrew origin, biblical", pronunciation: "NO-ah", popularity: "Top 100", lengthCategory: "short", styleScore: 15 },
            { id: 'en4', name: "Isla", language: "english", gender: "girl", meaning: "Island.", originNotes: "Scottish river/island name", pronunciation: "EYE-luh", popularity: "Rising Trend", lengthCategory: "short", styleScore: 40 },
            { id: 'en5', name: "Liam", language: "english", gender: "boy", meaning: "Resolute protection (short form of William).", originNotes: "Irish origin", pronunciation: "LEE-uhm", popularity: "Top 100", lengthCategory: "short", styleScore: 25 },
            { id: 'en6', name: "Sophia", language: "english", gender: "girl", meaning: "Wisdom.", originNotes: "Greek origin", pronunciation: "so-FEE-uh", popularity: "Classic", lengthCategory: "medium", styleScore: 18 },

            // German Names
            { id: 'de1', name: "Maximilian", language: "german", gender: "boy", meaning: "Greatest.", originNotes: "Latin origin, popular in Germany", pronunciation: "mak-see-MEE-lee-ahn", popularity: "Classic", lengthCategory: "long", styleScore: 25 },
            { id: 'de2', name: "Emilia", language: "german", gender: "girl", meaning: "Rival.", originNotes: "Latin origin, popular in Germany", pronunciation: "eh-MEE-lee-ah", popularity: "Popular", lengthCategory: "medium", styleScore: 35 },
            { id: 'de3', name: "Leon", language: "german", gender: "boy", meaning: "Lion.", originNotes: "Greek origin", pronunciation: "LE-on", popularity: "Popular", lengthCategory: "short", styleScore: 30 },
            { id: 'de4', name: "Hanna", language: "german", gender: "girl", meaning: "Grace.", originNotes: "Hebrew origin", pronunciation: "HAH-nah", popularity: "Popular", lengthCategory: "short", styleScore: 22 },

            // Japanese Names
            { id: 'jp1', name: "Haruto", language: "japanese", gender: "boy", meaning: "Sun flying / Clear weather person", originNotes: "Kanji dependent meaning", pronunciation: "ha-ROO-toh", popularity: "Popular (Japan)", lengthCategory: "medium", styleScore: 30 },
            { id: 'jp2', name: "Yui", language: "japanese", gender: "girl", meaning: "Bind, tie / Gentle", originNotes: "Kanji dependent meaning", pronunciation: "YOO-ee", popularity: "Popular (Japan)", lengthCategory: "short", styleScore: 45 },
            { id: 'jp3', name: "Ren", language: "japanese", gender: "any", meaning: "Lotus / Love", originNotes: "Kanji dependent meaning", pronunciation: "REN", popularity: "Popular (Japan)", lengthCategory: "short", styleScore: 60 },
            { id: 'jp6', name: "Sakura", language: "japanese", gender: "girl", meaning: "Cherry blossom.", originNotes: "Iconic Japanese flower name", pronunciation: "SAH-koo-rah", popularity: "Classic", lengthCategory: "medium", styleScore: 10 },

            // Spanish Names
            { id: 'es1', name: "Mateo", language: "spanish", gender: "boy", meaning: "Gift of God.", originNotes: "Hebrew origin, popular Hispanic name", pronunciation: "mah-TEH-oh", popularity: "Top 100", lengthCategory: "medium", styleScore: 30 },
            { id: 'es2', name: "Lucia", language: "spanish", gender: "girl", meaning: "Light.", originNotes: "Latin origin, classic and beautiful", pronunciation: "loo-SEE-ah / LOO-thee-ah", popularity: "Top 100", lengthCategory: "medium", styleScore: 20 },
            { id: 'es3', name: "Santiago", language: "spanish", gender: "boy", meaning: "Saint James.", originNotes: "Patron saint of Spain", pronunciation: "sahn-tee-AH-go", popularity: "Classic", lengthCategory: "long", styleScore: 15 },
            { id: 'es4', name: "Sofia", language: "spanish", gender: "girl", meaning: "Wisdom.", originNotes: "Greek origin, variant of Sophia", pronunciation: "so-FEE-ah", popularity: "Top 100", lengthCategory: "medium", styleScore: 18 },

            // French Names
            { id: 'fr1', name: "Louis", language: "french", gender: "boy", meaning: "Famous warrior.", originNotes: "Germanic roots, French royalty", pronunciation: "LOO-ee / LWEE", popularity: "Classic", lengthCategory: "short", styleScore: 10 },
            { id: 'fr2', name: "Camille", language: "french", gender: "any", meaning: "Young ceremonial attendant.", originNotes: "Latin origin", pronunciation: "ka-MEEL", popularity: "Classic", lengthCategory: "medium", styleScore: 50 },
            { id: 'fr3', name: "Jules", language: "french", gender: "boy", meaning: "Youthful.", originNotes: "Latin origin", pronunciation: "ZHOOL", popularity: "Classic", lengthCategory: "short", styleScore: 28 },
            { id: 'fr4', name: "LÃ©a", language: "french", gender: "girl", meaning: "Weary.", originNotes: "Hebrew origin", pronunciation: "LAY-ah", popularity: "Popular", lengthCategory: "short", styleScore: 38 },

            // Neutral / Any Gender Names
            { id: 'any1', name: "Rowan", language: "english", gender: "any", meaning: "Rowan tree, little redhead.", originNotes: "Gaelic origin, nature name", pronunciation: "ROH-uhn", popularity: "Balanced", lengthCategory: "short", styleScore: 55 },
            { id: 'any2', name: "Kai", language: "hawaiian", gender: "any", meaning: "Sea.", originNotes: "Multiple origins (Hawaiian, Welsh, etc.)", pronunciation: "KYE", popularity: "Rising Trend", lengthCategory: "short", styleScore: 70 },
            { id: 'any3', name: "Avery", language: "english", gender: "any", meaning: "Ruler of the elves.", originNotes: "Old English/French origin", pronunciation: "AY-vuh-ree", popularity: "Popular", lengthCategory: "medium", styleScore: 65 },
            { id: 'any4', name: "River", language: "english", gender: "any", meaning: "River (nature name).", originNotes: "Word name", pronunciation: "RIV-er", popularity: "Rising Trend", lengthCategory: "medium", styleScore: 75 }
        ];

        // --- State ---
        let dataLoaded = true; // Assume data is loaded for this static example
        // In a real app, you might fetch data:
        // let dataLoaded = false;
        // fetch('path/to/your/names.json')
        //   .then(response => response.json())
        //   .then(data => {
        //       nameDatabase = data;
        //       dataLoaded = true;
        //       console.log("Name data loaded successfully.");
        //       // Maybe enable the button here if it was disabled
        //   })
        //   .catch(error => {
        //       console.error("Error loading name data:", error);
        //       resultsMessage.textContent = "Error loading name data. Please try again later.";
        //       resultsMessage.style.display = 'block';
        //       // Disable button or show error state
        //   });

        // --- Helper Functions ---

        /**
         * Gets the selected value from a group of radio buttons.
         * @param {string} name - The 'name' attribute of the radio button group.
         * @returns {string} The value of the selected radio button.
         */
        function getSelectedRadioValue(name) {
            const selectedRadio = document.querySelector(`input[name="${name}"]:checked`);
            return selectedRadio ? selectedRadio.value : null;
        }

        /**
         * Filters the name database based on current criteria.
         * @returns {Array} An array of names matching the criteria.
         */
        function filterNames() {
            const selectedGender = getSelectedRadioValue('gender');
            const selectedLanguage = languageSelect.value;
            const selectedLength = getSelectedRadioValue('length');
            const firstLetter = firstLetterInput.value.trim().toUpperCase();
            const styleValue = parseInt(styleRange.value, 10); // 0 (Traditional) to 100 (Unique)

            // Define style thresholds (adjust as needed)
            const isTraditional = styleValue < 33;
            const isBalanced = styleValue >= 33 && styleValue <= 66;
            const isUnique = styleValue > 66;

            return nameDatabase.filter(name => {
                // Gender filter
                if (selectedGender !== 'any' && name.gender !== selectedGender && name.gender !== 'any') {
                    return false;
                }
                // Language filter
                if (selectedLanguage && name.language !== selectedLanguage) {
                    return false;
                }
                // Length filter
                const nameLen = name.name.length;
                if (selectedLength === 'short' && (nameLen < 3 || nameLen > 5)) return false;
                if (selectedLength === 'medium' && (nameLen < 6 || nameLen > 8)) return false;
                if (selectedLength === 'long' && nameLen < 9) return false;

                // First letter filter
                if (firstLetter && !name.name.toUpperCase().startsWith(firstLetter)) {
                    return false;
                }

                 // Style filter (based on styleScore and slider value)
                 // Lower score = more traditional, higher score = more unique
                if (isTraditional && name.styleScore > 33) return false;
                if (isBalanced && (name.styleScore < 33 || name.styleScore > 66)) return false;
                if (isUnique && name.styleScore < 67) return false;


                return true; // Name passes all filters
            });
        }

        /**
         * Creates an HTML card element for a given name object.
         * @param {object} nameObj - The name object from the database.
         * @returns {HTMLElement} A div element representing the name card.
         */
        function createNameCard(nameObj) {
            const card = document.createElement('div');
            card.className = 'name-card'; // Use Tailwind classes via CSS @apply or list them here

            card.innerHTML = `
                <h3 class="text-2xl font-bold text-indigo-700 mb-2">${nameObj.name}</h3>
                <p><strong class="font-semibold">Meaning:</strong> ${nameObj.meaning || 'N/A'}</p>
                <p><strong class="font-semibold">Origin:</strong> ${nameObj.originNotes || 'N/A'} (${nameObj.language})</p>
                <p><strong class="font-semibold">Pronunciation:</strong> ${nameObj.pronunciation || 'N/A'}</p>
                <p><strong class="font-semibold">Popularity:</strong> ${nameObj.popularity || 'N/A'}</p>
                <div class="tags mt-3">
                    <span class="inline-block bg-indigo-100 text-indigo-700 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded">${nameObj.gender}</span>
                    <span class="inline-block bg-amber-100 text-amber-700 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded">${nameObj.lengthCategory}</span>
                     <span class="inline-block bg-gray-100 text-gray-700 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded">Style: ${nameObj.styleScore <= 33 ? 'Traditional' : nameObj.styleScore <= 66 ? 'Balanced' : 'Unique'}</span>
                </div>
                <button class="save-btn mt-3 px-3 py-1 bg-save-button text-white text-sm rounded hover:bg-save-button-hover transition btn-feedback" data-name-id="${nameObj.id}">Save to Favorites</button>
            `;
            // Add event listener for the save button within the card
            const saveButton = card.querySelector('.save-btn');
            if (saveButton) {
                saveButton.addEventListener('click', () => {
                    // Placeholder for save functionality
                    console.log(`Saving name: ${nameObj.name} (ID: ${nameObj.id})`);
                    alert(`${nameObj.name} added to favorites! (Feature not fully implemented)`);
                    // Add actual save logic here (e.g., save to localStorage or backend)
                });
            }

            return card;
        }


        /**
         * Updates the slider feedback text based on the current value.
         */
        function updateSliderFeedback() {
            const value = parseInt(styleRange.value, 10);
            if (value < 33) {
                sliderFeedback.textContent = 'Traditional';
            } else if (value <= 66) {
                sliderFeedback.textContent = 'Balanced';
            } else {
                sliderFeedback.textContent = 'Unique';
            }
        }

        /**
         * Handles the name generation process.
         */
        function generateName() {
            console.log("Generate button clicked"); // Debug log

            if (!dataLoaded) {
                resultsMessage.textContent = "Name data is still loading. Please wait.";
                resultsMessage.style.display = 'block';
                return;
            }

            // Show loading indicator and hide previous results/messages
            loadingIndicator.style.display = 'block';
            resultDisplay.innerHTML = ''; // Clear previous result
            resultsPlaceholder.style.display = 'none';
            resultsMessage.style.display = 'none';
            generateBtn.disabled = true; // Disable button during generation

            // Simulate a short delay (e.g., for fetching or just visual feedback)
            setTimeout(() => {
                const filtered = filterNames();
                console.log(`Found ${filtered.length} matching names.`); // Debug log

                if (filtered.length > 0) {
                    // Select a random name from the filtered list
                    const randomIndex = Math.floor(Math.random() * filtered.length);
                    const selectedName = filtered[randomIndex];

                    console.log("Selected name:", selectedName); // Debug log

                    // Create and display the name card
                    const nameCard = createNameCard(selectedName);
                    resultDisplay.appendChild(nameCard);

                } else {
                    // No names found
                    resultsMessage.textContent = "No names found matching your criteria. Try broadening your search!";
                    resultsMessage.style.display = 'block';
                    resultsPlaceholder.style.display = 'none'; // Keep placeholder hidden
                     resultDisplay.innerHTML = ''; // Ensure display area is empty
                }

                // Hide loading indicator and re-enable button
                loadingIndicator.style.display = 'none';
                generateBtn.disabled = false;

            }, 300); // 300ms delay
        }

         /**
         * Toggles the mobile menu visibility.
         */
        function toggleMobileMenu() {
            const isHidden = mobileMenu.classList.contains('hidden');
            if (isHidden) {
                mobileMenu.classList.remove('hidden');
                // Animate in
                requestAnimationFrame(() => { // Ensure the element is not hidden before starting animation
                    mobileMenu.classList.remove('-translate-x-full');
                    mobileMenu.classList.add('translate-x-0');
                });
                 document.body.style.overflow = 'hidden'; // Prevent background scrolling
            } else {
                // Animate out
                mobileMenu.classList.remove('translate-x-0');
                mobileMenu.classList.add('-translate-x-full');
                 // Wait for animation to finish before hiding
                mobileMenu.addEventListener('transitionend', () => {
                    mobileMenu.classList.add('hidden');
                }, { once: true }); // Remove listener after it runs once
                 document.body.style.overflow = ''; // Restore scrolling
            }
        }

        // --- Event Listeners ---
        if (generateBtn) {
            generateBtn.addEventListener('click', generateName);
        } else {
            console.error("Generate button not found!");
        }

        if (styleRange) {
            styleRange.addEventListener('input', updateSliderFeedback);
        }

        if (hamburgerBtn) {
            hamburgerBtn.addEventListener('click', toggleMobileMenu);
        }

        if (closeMenuBtn) {
            closeMenuBtn.addEventListener('click', toggleMobileMenu);
        }

         // Add event listeners to menu links to close the menu on navigation
        menuLinks.forEach(link => {
            link.addEventListener('click', () => {
                // Check if the menu is open before trying to close it
                if (!mobileMenu.classList.contains('hidden')) {
                    toggleMobileMenu();
                }
                // Smooth scroll for internal links
                const targetId = link.getAttribute('href');
                if (targetId && targetId.startsWith('#')) {
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    }
                }
            });
        });

        // First letter input validation (allow only letters, convert to uppercase)
        if (firstLetterInput) {
            firstLetterInput.addEventListener('input', (e) => {
                e.target.value = e.target.value.replace(/[^a-zA-Z]/g, '').toUpperCase();
            });
        }

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            updateSliderFeedback(); // Set initial slider feedback
            // Set current year in footer
            if (currentYearSpan) {
                currentYearSpan.textContent = new Date().getFullYear();
            }
            // Any other initial setup needed
            console.log("DOM fully loaded and parsed. Initializing scripts.");
             // Ensure menu is hidden initially by applying the transform class
            if (mobileMenu && !mobileMenu.classList.contains('translate-x-0')) {
                 mobileMenu.classList.add('-translate-x-full');
            }
        });

    </script>

</body>

</html>

